<!DOCTYPE html>
<html>
  <head>
    <title><%=typeof title == 'undefined' ? 'New Sails App' : title%></title>
    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!--STYLES-->
    <link rel="stylesheet" href="/styles/animate.css">
    <link rel="stylesheet" href="/styles/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/c3.min.css">
    <link rel="stylesheet" href="/styles/custom.css">
    <link rel="stylesheet" href="/styles/datatables.min.css">
    <link rel="stylesheet" href="/styles/font-awesome.css">
    <link rel="stylesheet" href="/styles/font-awesome.min.css">
    <link rel="stylesheet" href="/styles/importer.css">
    <link rel="stylesheet" href="/styles/style.css">
    <!--STYLES END-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117305391-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-117305391-1');
  </script>

  </head>

  <body>
  <div class="se-pre-con"></div>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>

	(adsbygoogle = window.adsbygoogle || []).push({

	google_ad_client: "ca-pub-7718496085786372",

	enable_page_level_ads: true

	});

	</script>

<nav class="navbar navbar-inverse navbar-fixed-top hidden-xs">
  <div class="container-fluid ">
  <div class="row Header">
    <div class="col-md-2">
          <a href="/">
            <img class="img-responsive" src="/images/Logo2.png" height="70px" alt="TotalCryptosLogo">
          </a>
    </div>
    <div class="col-md-5">

      <div class="row wrapper">
          <div class="col-lg-12 marquee_div">
			<img src="/images/data-loader.gif"/>
          </div>        
        </div>

    </div>
    <div class="col-md-3">
      <div class="row h-50 menu">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="/">HOME</a></li>
            <li><a href="https://portal.totalcryptos.com">Portal</a></li>
            <li><a href="/api/documentation">API</a></li>
            <li><a href="/TCindex">TC Indexes</a></li>
            <li><a href="/about">ABOUT US</a></li>           
          </ul>
      </div>
      <!--
      <div class="row col-md-12 h-50">
           Saved for future use in ADS 
      </div>
      -->
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2">
      <a href="http://www.bloc10.com/">
        <img class="img-responsive" src="/images/LogoBloc.png" height="70px" alt="Bloc10.com">
      </a>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <h3><a class="aBanner" href="/tc-history">Price of TC 100: <strong><span class="tc100"><img width="15px" height="15px" src="/images/data-loader.gif"/></span></strong></a></h3>
    </div>
    <div class="col-md-4">
      <h3><a class="aBanner" href="/tc-history">Total Market Cap in USD: <strong><span class="FormatNum total_usd_market_cap"><img width="15px" height="15px" src="/images/data-loader.gif"/></span></strong></a></h3>
    </div>
    <div class="col-md-4">
      <h3>
        <a class="aBanner" href="/tc-history">TCw100: <strong><span class="tcw100"><img width="15px" height="15px" src="/images/data-loader.gif"/></span></strong></a>
      </h3>
    </div>
  </div>
  </div>
</nav>

<nav class="navbar navbar-inverse navbar-fixed-top hidden-sm hidden-md hidden-lg">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">
        <img class="img-responsive" src="/images/LogoSmall.png" height="70px" alt="TotalCryptosLogo">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li><a href="/">HOME</a></li>
    <li><a href="/api/documentation">API</a></li>
    <li><a href="#">CONTAC US</a></li>
    <li><a href="#">ABOUT US</a></li> 
      </ul>
    </div>
  </div>
</nav> 

  <div class="container-fluid">
  
    <%- body %>
    
  </div>
<div class="container-fluid" id="top_products">
	<div style="text-align:center;"><img src="/images/data-loader.gif"/></div>
</div>	
    <!--SCRIPTS-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/c3.min.js"></script>
    <script src="/js/custom.js"></script>
    <script src="/js/d3.min.js"></script>
    <script src="/js/datatables.min.js"></script>
    <script src="/js/easing.min.js"></script>
    <script src="/js/hoverIntent.js"></script>
    <script src="/js/jquery.marquee.js"></script>
    <script src="/js/jquery.sparkline.min.js"></script>
    <script src="/js/superfish.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <!--SCRIPTS END-->
	<script>
	$(window).load(function() {
		$(".se-pre-con").fadeOut("slow");;
	});
	
	$(document).ready(function(){
		$.ajax({
			type:'GET',
			url:'/headerFooterData',
			success:function(data){
				
				//PROCESS TO MANAGE GDAX DATA
				var str='<ul class="list-aggregate" id="top_exchange">';
				data.gdax.forEach(function(product){
				  str+='<li class="marquee_list_item '+product.id+'">';
				  str+='<div class="row">';
				  str+='<div class="col-md-6">';
				  str+='<h4>';
				  str+='<a href="/volume-24-hour-market/'+product.display_name.replace('/','')+'">';
				  str+=product.display_name;
				  str+='</a>';
				  str+='<b>&nbsp;';
				  if(parseFloat(product.ticker.variation)>0){
				  str+='<span style="color:green;">'+parseFloat(product.ticker.variation).toFixed(2)+'%</span>';
				  }
				  else if(product.ticker.variation!=undefined){
				  str+='<span style="color:red;">'+parseFloat(product.ticker.variation).toFixed(2)+'%</span>';
				  }
				  str+='</b>';  
				  str+='</h4>';
				  str+='<h4>';
				  str+=parseFloat(product.ticker.price).toFixed(2);
				  str+='&nbsp;';
				  str+=product.quote_currency;
				  str+='</h4>';
				  str+='<h4>Volume:&nbsp;';
				  str+=parseFloat(product.ticker.volume).toFixed(2);
				  str+=product.base_currency;
				  str+='</h4>';
				  str+='</div>';
				  str+='<div class="col-md-4">';
				  str+='<br/>';
				  str+='<div class="chart_'+product.id+'"><input type="hidden" class="hidden_'+product.id+'" value="'+product.ticker.chart+'"/></div>';
				  str+='</div>';
				  str+='<div class="col-md-2">';
				  str+='</div>';
				  str+='</div>'; 
				  str+='</li>';
                });
				str+='</ul>';
				$('.marquee_div').html(str);
				
				$('#top_exchange').marquee({direction:'horizontal', delay:0, timing:20});
        
			    $("#top_exchange").children('li').each(function(){
				var cls=this.className.split(" ");
				cls=cls[cls.length-1];
				if($(".hidden_"+cls)){
				  var val=$(".hidden_"+cls).val();
				  if(val!=undefined){
					$(".chart_"+cls).html('');
					$(".chart_"+cls).sparkline(val.split(","), {type: 'line',width: '100%',height: '50',lineColor: '#ff6439',fillColor: "transparent"});
				  }
				}
			    });
				
				//PROCESS TO MANAGE CRYPTO DATA
				var cryptoData=data.cryptoData;
				$(".tc100").html("$"+cryptoData.tc100);
				$(".total_usd_market_cap").html("$"+cryptoData.total_usd_market_cap);
				$(".tcw100").html(cryptoData.tcw100);
				
				//PROCESS TO MANAGE TOP PRODUCTS DATA
				var str='';
				var topproducts=data.topproducts;
				if(topproducts.length==10){	
					str+='<div class="row">';
					str+='<div class="col-lg-12 center" style="padding: 20px 0px;font-weight:bold;background-color:#DCDCDC;">';
					str+='<div class="col-lg-2 col-lg-offset-1">';
					str+=topproducts[0].base_currency.toUpperCase()+': $'+parseFloat(topproducts[0].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[1].base_currency.toUpperCase()+': $'+parseFloat(topproducts[1].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[2].base_currency.toUpperCase()+': $'+parseFloat(topproducts[2].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[3].base_currency.toUpperCase()+': $'+parseFloat(topproducts[3].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[4].base_currency.toUpperCase()+': $'+parseFloat(topproducts[4].price).toFixed(8);
					str+='</div>';
					str+='</div>';
					str+='<div class="col-lg-12 center" style="font-weight:bold;background-color:#DCDCDC;">';
					str+='<div class="col-lg-2 col-lg-offset-1">';
					str+=topproducts[5].base_currency.toUpperCase()+': $'+parseFloat(topproducts[0].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[6].base_currency.toUpperCase()+': $'+parseFloat(topproducts[1].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[7].base_currency.toUpperCase()+': $'+parseFloat(topproducts[2].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[8].base_currency.toUpperCase()+': $'+parseFloat(topproducts[3].price).toFixed(8);
					str+='</div>';
					str+='<div class="col-lg-2">';
					str+=topproducts[9].base_currency.toUpperCase()+': $'+parseFloat(topproducts[4].price).toFixed(8);
					str+='</div>';
					str+='</div>';
					str+='<div class="col-lg-12 center" style="padding: 20px 0px 20px 0px;background-color:#DCDCDC;">';
					str+='<strong>Price Data brought to you free by <a href="">www.totalcryptos.com</a></strong>';
					str+='</div>';
					str+='</div>';
					$("#top_products").html(str);
				}	
			}
		});
	});
	</script>
  </body>
</html>
